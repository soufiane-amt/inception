version: '2.4'

services:
  mariadb:
    build: mariadb/.
    image: mariadb:inception
    container_name: my-mariadb
    environment:
      - DB_NAME=MyDataBase
      - DB_USER=DataBaseUser
      - DB_PASS=1234
    volumes:
      - mariadb_data:/var/lib/mysql
    ports:
      - '3306:3306'
    networks:
      - my-network


  nginx:
    build: nginx/.
    image: nginx:inception
    container_name: my-nginx
    environment: # Corrected spelling
      - DOMAIN_NAME=samajat.42.fr
      - WP_TITLE="TheProudLordcastle"
      - WP_ADMIN_USR=admin
      - WP_ADMIN_PWD=admin
      - WP_ADMIN_EMAIL=soufianeamt11@gmail.com
    depends_on:
      - wordpress
    ports:
      - '443:443'
    networks:
      - my-network
    volumes:
    - data-wordpress:/var/www/html

  wordpress:
    build: wordpress/.
    image: wordpress:inception
    container_name: my-wordpress
    environment:
      - DOMAIN_NAME=samajat.42.fr
      - WP_TITLE="TheProudLordcastle"
      - WP_ADMIN_USR=admin
      - WP_ADMIN_PWD=admin
      - WP_ADMIN_EMAIL=soufianeamt11@gmail.com
      - DB_NAME=MyDataBase
      - DB_USER=DataBaseUser
      - DB_PASS=1234
    ports:
      - 9000:9000
    networks:
      - my-network
    volumes:
      - data-wordpress:/wordpress

networks:
  my-network:

volumes:
  mariadb_data:
  data-wordpress:
#   wordpress:
#     build: wordpress/.
#     image: wordpress:inception
#     container_name: my-wordpress
#     environment:
#       - DOMAIN_NAME=samajat.42.fr
#       - WP_TITLE="The Proud Lord castle"
#       - WP_ADMIN_USR=admin
#       - WP_ADMIN_PWD=admin
#       - WP_ADMIN_EMAIL=soufianeamt11@gmail.com
#       - DB_NAME=MyDataBase
#       - DB_USER=DataBaseUser
#       - DB_PASS=1234
#     depends_on:
#       - mariadb
#     networks:
#       - my-network
    
#   mariadb:
#     build: mariadb/.
#     image: mariadb:inception
#     ports:
#       - 3306:3306
#     volumes:
#       - ./data:/home
#     environment:
#       - DB_NAME=MyDataBase
#       - DB_USER=DataBaseUser
#       - DB_PASS=1234
#     networks:
#       - my-network
# networks:
#   my-network:
